<!DOCTYPE html>
<html>
 
  <head>
    <script language="javascript">
    </script>
    <title>Lieutenant X</title>
    <link rel="icon" href="https://cdn.discordapp.com/avatars/665299853106085888/b300d8ca271e9ee8b2551cac3355ca53.png?size=128">
  </head>
 
  <body style="background-color: #23272a;">
  <p>&nbsp;</p>
  <table style="width: 90%; border-collapse: collapse; margin-left: auto; margin-right: auto;" border="0">
  <tbody>
  <tr>
  <td style="width: 30%; background-color: #7289da;">
  <h1 style="text-align: center;"><span id="bots" style="color: #ffffff;">0</span><br /><span style="color: #ffffff;">Bots</span></h1>
  </td>
  <td style="width: 5%;">&nbsp;</td>
  <td style="width: 30%; background-color: #7289da;">
  <h1 style="text-align: center;"><span id="serveurs" style="color: #ffffff;">0</span><br /><span style="color: #ffffff;">Serveurs</span></h1>
  </td>
  <td style="width: 5%;">&nbsp;</td>
  <td style="width: 30%; background-color: #7289da;">
  <h1 style="text-align: center;"><span id="utilisateurs" style="color: #ffffff;">0</span><br /><span style="color: #ffffff;">Utilisateurs</span></h1>
  </td>
  </tr>
  </tbody>
  </table>
  <p>&nbsp;</p>
  <table  style="border-style: solid; background-color: #7289da; border-color: #23272a; margin-left: auto; margin-right: auto;", border="1", id="table"><caption style="color: #ffffff;"><h2>Voici la liste des bots et leurs statistiques</h2></caption>
  <tbody>
  <tr>
  <th style="background-color: #ffffff;">Nom</th>
  <th style="width: 127px; background-color: #ffffff;">PDF</th>
  <th style="width: 100px; background-color: #ffffff;">Ã‰tat</th>
  <th style="background-color: #ffffff;">&nbsp;Nombre de serveur&nbsp;</th>
  <th style="background-color: #ffffff;">&nbsp;Nombre d'utilisateurs&nbsp;</th>
  </tr>
  </tbody>
  </table>

   <script>
    async function stats() {
    let response = await fetch('https://raw.githubusercontent.com/lieutenantX/api/main/stats.json');
    let data = await response.json();
    var bots = data["stats"]["bots"];
    var table = document.getElementById("table");

    for (var i = 0; i <= bots.length - 1; i++) {
      var row = table.insertRow(-1);
      for (var j = 0; j < 5; j++) {
        var cell = row.insertCell(-1);
        cell.innerHTML = bots[i][["nom","PDF","etat","serveurs","utilisateurs"][j]]
        if (j==1){
          if (cell.innerHTML == "") {cell.innerHTML = "Indisponible"
          }else{cell.innerHTML = "<a href='cell.innerHTML'>Disponible</a>"}
        }else if (j > 2){
          cell.innerHTML = Intl.NumberFormat('fr-FR', { style: 'decimal'}).format(cell.innerHTML)
        }

        cell.style.textAlign = "center"
        cell.style.backgroundColor = "#ffffff"
      }}
      document.getElementById("bots").innerHTML = data["stats"]["total"]["bots"][0]
      document.getElementById("serveurs").innerHTML = data["stats"]["total"]["serveurs"][0]
      document.getElementById("utilisateurs").innerHTML = data["stats"]["total"]["utilisateurs"][0]//Intl.NumberFormat('fr-FR', { style: 'decimal'}).format(Math.round(utilisateurs))
      }

    stats()
   </script>
  </body>
 
</html>
